!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.RPC=t(require("react")):e.RPC=t(e.React)}(self,(function(e){return function(){"use strict";var t={787:function(t){t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var c=n[e]={exports:{}};return t[e](c,c.exports,r),c.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var o={};return function(){var e=r(787),t=r.n(e);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c,l,i=[],u=!0,a=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=c.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}o.default=function(r){var o=r.dataList,c=r.placeholder,l=r.keyValue,i=r.dataValue,u=r.btnValue,a=r.searchFunction,s=r.autoComplete,d=r.inputClassName,f=r.btnClassName,p=n((0,e.useState)(""),2),y=p[0],m=p[1],v=n((0,e.useState)(!1),2),b=v[0],g=v[1],h=(0,e.useRef)(null),E=(0,e.useRef)(null),w=n((0,e.useState)(""),2),C=w[0],k=w[1],L=n((0,e.useState)([]),2),x=L[0],R=L[1],S=(0,e.useRef)(-1);return(0,e.useEffect)((function(){b||(R(o),g(!0));var e=E.current.getBoundingClientRect().top,t=E.current.getBoundingClientRect().left,n=E.current.getBoundingClientRect().right,r=E.current.getBoundingClientRect().bottom,c=function(o){(o.clientX<=t||o.clientX>=n||o.clientY<=e||o.clientY>=r)&&h.current&&(h.current.style.display="none")};return window.addEventListener("click",c),h.current,function(){window.removeEventListener("click",c)}}),[o]),t().createElement(t().Fragment,null,t().createElement("div",{className:"search-box"},t().createElement("div",{className:"my-select"},t().createElement("input",{id:"inputElem",ref:E,value:C||"",autoComplete:s||"off",onChange:function(e){if(console.log(e.target.value),k(e.target.value),h.current){var t,n=null===(t=E.current)||void 0===t?void 0:t.offsetWidth;h.current.style.width=n+"px",h.current.style.display="block"}m(e.target.value),""===e.target.value?document.querySelectorAll(".select-option").forEach((function(e){e.classList.add("option-display-block"),e.classList.remove("option-selected","option-display-none"),S.current=-1})):document.querySelectorAll(".select-option").forEach((function(t){t.classList.remove("option-display-none"),t.classList.add("option-display-block"),t.innerHTML.toString().includes(e.target.value)||(t.classList.remove("option-display-block"),t.classList.add("option-display-none"))}))},onKeyDown:function(e){if("Enter"===e.key){var t=document.querySelector(".option-selected");t&&(k(t.innerHTML),m(t.innerHTML),h.current.style.display="none",E.current.blur())}if(h.current){var n=document.querySelectorAll(".option-display-block");if("ArrowDown"===e.key){S.current+=1,S.current===n.length&&(S.current=0,h.current.scrollTop=0),n.forEach((function(e){e.classList.remove("option-selected")})),n[S.current].classList.add("option-selected");var r=h.current.getBoundingClientRect().top;n[S.current].getBoundingClientRect().top-r>270&&(h.current.scrollTop+=30)}if("ArrowUp"===e.key){n.forEach((function(e){e.classList.remove("option-selected")})),-1!==S.current&&(S.current=S.current-1),-1===S.current&&(S.current=n.length-1,h.current.scrollTop+=h.current.scrollHeight),n[S.current].classList.add("option-selected");var o=h.current.getBoundingClientRect().top;n[S.current].getBoundingClientRect().top-o<-30&&(h.current.scrollTop-=30)}}},onFocus:function(){if(h.current){var e,t=null===(e=E.current)||void 0===e?void 0:e.offsetWidth;h.current.style.width=t+"px",h.current.style.display="block"}},onBlur:function(){},type:"text",className:d||"form-control border border-dark-subtle shadow-sm",placeholder:c||"","aria-describedby":"button-addon2"}),t().createElement("button",{onClick:function(){a&&a(y)},className:f||"btn btn-primary btnElem shadow-sm",type:"button",id:"button-addon2"},u||"查找")),0===x.length?null:t().createElement("div",{className:"dict-list shadow rounded",id:"listElem",ref:h},x.map((function(e){return t().createElement("option",{className:"select-option option-display-block",id:e[l],key:e[l],value:e[i],onClick:function(e){e.target instanceof HTMLOptionElement&&(k(e.target.value),m(e.target.value)),h.current.style.display="none"}},e[i])})))))}}(),o.default}()}));